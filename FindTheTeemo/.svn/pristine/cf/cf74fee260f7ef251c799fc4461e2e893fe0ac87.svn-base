package ca.cmpt276.as3.findtheteemo;

import android.util.Log;

public class GameLogic {
	private static GameBoard gameBoard = null;
	private static int teemosFound = 0;
	private static int numOfTeemos = 0;
	private static int numOfFacechecks = 0;
	private static boolean isWin = false;
	
	public GameLogic(String size, int numOfTeemos) {
		gameBoard = new GameBoard(size, numOfTeemos);
		teemosFound = 0;
		this.numOfTeemos = numOfTeemos;
		numOfFacechecks = 0;
		isWin = false;
	}
	
	public boolean isTeemoThere(int column, int row) {
		return gameBoard.getIsTeemo(column, row);
	}
	
	public boolean isBushChecked(int column, int row) {
		return gameBoard.getIsChecked(column, row);
	}
	
	public void doCheck(int column, int row) {
		if (isTeemoThere(column, row) && isBushChecked(column, row)) {
			//TODO
			gameBoard.refreshNearbyTeemosData(column, row);
			teemosFound++;
			Log.i("DEBUG", "" + teemosFound);
			if(teemosFound >= numOfTeemos) {
				isWin = true;
			}
		} else {
			//reveal nearbyTeemos of bush
			Log.i("wtf", "" + teemosFound);
		}
		numOfFacechecks++;
	}

	public int getTeemosFound() {
		return teemosFound;
	}
	
	public int getTeemosAround(int column, int row) {
		int teemosAround = gameBoard.getTeemosAround(column, row);
		return teemosAround;
	}
	
	public static boolean isWin() {
		return isWin;
	}
}