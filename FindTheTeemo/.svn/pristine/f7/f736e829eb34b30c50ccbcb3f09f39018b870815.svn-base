package ca.cmpt276.as3.findtheteemo;

import android.os.Bundle;
import android.app.Activity;
import android.content.SharedPreferences;
import android.widget.Button;
import android.widget.TableLayout;
import android.widget.TableRow;

public class GameActivity extends Activity {

	private static int smallNumRows = 3;
	private static int smallNumCols = 4;
	private static int mediumNumRows = 4;
	private static int mediumNumCols = 6;
	private static int largeNumRows = 6;
	private static int largeNumCols = 10;

	@Override
	protected void onCreate(Bundle savedInstanceState) {
		super.onCreate(savedInstanceState);
		setContentView(R.layout.activity_game);
		if (getBoardSize() == 0) {
			populateGameBoard(smallNumRows, smallNumCols);
		} else if (getBoardSize() == 1) {
			populateGameBoard(mediumNumRows, mediumNumCols);
		} else {
			populateGameBoard(largeNumRows, largeNumCols);
		}
	}
	
	private void populateGameBoard(int numRows, int numCols) {
		TableLayout gameBoard = (TableLayout) findViewById(R.id.gameBoard);
		
		for (int row = 0; row < numRows; row++) {
			TableRow tableRow = new TableRow(this);
			tableRow.setLayoutParams(new TableLayout.LayoutParams(
					TableLayout.LayoutParams.MATCH_PARENT,
					TableLayout.LayoutParams.MATCH_PARENT,
					1.0f));
			gameBoard.addView(tableRow);
			
			for (int col = 0; col < numCols; col++) {
				Button button = new Button(this);
				button.setLayoutParams(new TableRow.LayoutParams(
						TableRow.LayoutParams.MATCH_PARENT,
						TableRow.LayoutParams.MATCH_PARENT,
						1.0f));
				tableRow.addView(button);
			}
		}
	}
	
	private int getBoardSize() {
		SharedPreferences size = getSharedPreferences("BoardSize", MODE_PRIVATE);
		return size.getInt("BoardSizeIndex", 0);
	}
}
