package ca.cmpt276.as3.findtheteemo;

public class GameLogic {
	private GameBoard gameBoard = null;
	private int teemosFound = 0;
	private int numOfTeemos = 0;
	private int numOfFacechecks = 0;
	private boolean isWin = false;
	
	public GameLogic(String size, int numOfTeemos) {
		gameBoard = new GameBoard(size, numOfTeemos);
		teemosFound = 0;
		this.numOfTeemos = numOfTeemos;
		numOfFacechecks = 0;
		isWin = false;
	}
	
	public boolean isTeemoThere(int column, int row) {
		return gameBoard.getIsTeemo(column, row);
	}
	
	public boolean isBushChecked(int column, int row) {
		return gameBoard.getIsChecked(column, row);
	}
	
	public void doCheck(int column, int row) {
		if (isTeemoThere(column, row) && !isBushChecked(column, row)) {
			//TODO
			gameBoard.setChecked(column, row);
			gameBoard.refreshNearbyTeemosData(column, row);
			teemosFound++;
			if(teemosFound >= numOfTeemos) {
				isWin = true;
			}
		} else {
			//reveal nearbyTeemos of bush
		}
		numOfFacechecks++;
	}

	public int getTeemosFound() {
		return teemosFound;
	}
	
	public int getNumFacechecks() {
		return numOfFacechecks;
	}
	
	public int getTeemosAround(int column, int row) {
		int teemosAround = gameBoard.getTeemosAround(column, row);
		return teemosAround;
	}
	
	public boolean isWin() {
		return isWin;
	}
}